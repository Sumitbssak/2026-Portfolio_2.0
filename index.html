<!DOCTYPE html>
<html lang="en" data-theme="apple">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sumit | Architecture & Development</title>
    <meta name="description" content="Portfolio of Sumit - Professional Prompt Engineer & Full-Stack Developer">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Outfit:wght@400;600;700&display=swap');

        :root {
            --bg: #ffffff;
            --text: #1d1d1f;
            --muted: #86868b;
            --accent: #0071e3;
            --card: rgba(245, 245, 247, 0.7);
            --border: rgba(0, 0, 0, 0.05);
            --glass: rgba(255, 255, 255, 0.7);
            --blur: 20px;
            --mesh-opacity: 0.15;
            --font-main: 'Inter', -apple-system, sans-serif;
            --font-head: 'Outfit', sans-serif;
        }

        [data-theme="premium"] {
            --bg: #000000;
            --text: #f5f5f7;
            --muted: #a1a1a6;
            --accent: #2997ff;
            --card: rgba(28, 28, 30, 0.6);
            --border: rgba(255, 255, 255, 0.1);
            --glass: rgba(0, 0, 0, 0.7);
            --mesh-opacity: 0.3;
        }

        [data-theme="saas"] {
            --bg: #f8fafc;
            --text: #0f172a;
            --muted: #64748b;
            --accent: #6366f1;
            --card: #ffffff;
            --border: #e2e8f0;
            --glass: rgba(248, 250, 252, 0.8);
            --mesh-opacity: 0.1;
        }

        [data-theme="cyber"] {
            --bg: #050505;
            --text: #ffffff;
            --muted: #00ffcc;
            --accent: #ff00ff;
            --card: rgba(10, 10, 10, 0.8);
            --border: #00ffcc44;
            --glass: rgba(5, 5, 5, 0.8);
            --mesh-opacity: 0.4;
        }

        * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box; 
            cursor: auto !important; 
        }

        body {
            background-color: var(--bg);
            color: var(--text);
            font-family: var(--font-main);
            overflow-x: hidden;
            transition: background-color 0.8s ease, color 0.8s ease;
        }

        #cursor, #cursor-follower, .cursor, .point-marker, .location-indicator {
            display: none !important;
            visibility: hidden !important;
            pointer-events: none !important;
        }

        .mesh-container {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: -1; overflow: hidden; opacity: var(--mesh-opacity);
            transition: opacity 0.8s ease;
        }
        .mesh-gradient {
            position: absolute; width: 150%; height: 150%; top: -25%; left: -25%;
            background-image: 
                radial-gradient(at 0% 0%, var(--accent) 0, transparent 50%),
                radial-gradient(at 50% 0%, #6366f1 0, transparent 50%),
                radial-gradient(at 100% 0%, #a855f7 0, transparent 50%),
                radial-gradient(at 50% 50%, #ec4899 0, transparent 50%);
            filter: blur(100px);
        }

        nav {
            position: fixed; top: 0; width: 100%; padding: 25px 5%;
            display: flex; justify-content: space-between; align-items: center;
            z-index: 1000; transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }
        nav.scrolled {
            padding: 15px 5%; background: var(--glass);
            backdrop-filter: blur(var(--blur)); border-bottom: 1px solid var(--border);
            -webkit-backdrop-filter: blur(var(--blur));
        }
        .logo { font-family: var(--font-head); font-weight: 700; font-size: 1.4rem; letter-spacing: -1px; }
        .nav-links { display: flex; gap: 30px; }
        .nav-links a {
            text-decoration: none; color: var(--muted); font-size: 0.9rem;
            font-weight: 500; transition: color 0.3s;
        }
        .nav-links a:hover { color: var(--text); }
        .theme-switches { display: flex; gap: 10px; }
        .t-btn {
            width: 14px; height: 14px; border-radius: 50%; border: 1px solid var(--border);
            transition: transform 0.3s; cursor: pointer !important;
        }
        .t-btn:hover { transform: scale(1.3); }

        .hero {
            min-height: 100vh; display: flex; flex-direction: column;
            align-items: center; justify-content: center; text-align: center;
            padding: 100px 5% 50px;
            position: relative;
            z-index: 1;
        }
        .profile-wrap {
            width: 130px; height: 130px; border-radius: 50%;
            margin-bottom: 30px; position: relative;
            padding: 5px; border: 1px solid var(--border);
            box-shadow: 0 10px 40px rgba(0,0,0,0.05);
            background: var(--bg);
        }
        .profile-wrap img {
            width: 100%; height: 100%; border-radius: 50%; object-fit: cover;
        }
        .hero-h1 {
            font-family: var(--font-head); font-size: clamp(3rem, 10vw, 6rem);
            font-weight: 700; line-height: 1; letter-spacing: -3px; margin-bottom: 20px;
        }
        .rotating-box {
            height: 30px; overflow: hidden; position: relative; color: var(--muted);
            font-size: 1.2rem; font-weight: 400; margin-bottom: 40px;
        }
        .rotate-item { display: block; height: 30px; margin-bottom: 10px; }

        /* ========================================
           SOCIAL MEDIA MODULE CSS
           ======================================== */
        .social-module {
            display: flex;
            gap: 16px;
            justify-content: center;
            align-items: center;
            z-index: 10;
            position: relative;
        }

        .social-btn {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 12px 24px;
            border-radius: 16px;
            background: var(--card);
            backdrop-filter: blur(var(--blur));
            -webkit-backdrop-filter: blur(var(--blur));
            border: 1px solid var(--border);
            color: var(--muted);
            text-decoration: none;
            font-family: var(--font-main);
            font-weight: 500;
            font-size: 0.95rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.02);
            cursor: pointer !important;
        }

        .social-btn .icon {
            transition: stroke 0.3s ease;
        }

        /* Smooth Hover Triggers */
        .social-btn:hover {
            transform: translateY(-3px) scale(1.05);
            color: var(--text);
        }

        /* Micro Tap Interaction */
        .social-btn:active {
            transform: scale(0.97);
        }

        /* Accessibility Focus */
        .social-btn:focus-visible {
            outline: 2px solid var(--accent);
            outline-offset: 2px;
        }

        /* Instagram Color System */
        .social-btn.instagram:hover {
            border-color: rgba(225, 48, 108, 0.3);
            box-shadow: 0 10px 25px rgba(225, 48, 108, 0.1);
            color: #E1306C;
        }
        
        /* GitHub Color System */
        .social-btn.github:hover {
            border-color: var(--text);
            box-shadow: 0 10px 25px var(--border); 
            color: var(--text);
        }

        /* Telegram Color System */
        .social-btn.telegram:hover {
            border-color: rgba(0, 136, 204, 0.3);
            box-shadow: 0 10px 25px rgba(0, 136, 204, 0.1);
            color: #0088cc;
        }

        section { padding: 120px 8%; position: relative; z-index: 2; }
        .section-tag {
            font-size: 0.75rem; text-transform: uppercase; letter-spacing: 2px;
            color: var(--accent); font-weight: 700; margin-bottom: 15px; display: block;
        }
        .section-title {
            font-family: var(--font-head); font-size: 2.8rem; font-weight: 600;
            letter-spacing: -1.5px; margin-bottom: 60px;
        }

        .project-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 30px; }
        .p-card {
            background: var(--card); border: 1px solid var(--border);
            border-radius: 24px; padding: 50px; backdrop-filter: blur(var(--blur));
            -webkit-backdrop-filter: blur(var(--blur));
            transition: border 0.3s; transform-style: preserve-3d;
        }
        .p-card:hover { border-color: var(--accent); }
        .p-card h3 { font-family: var(--font-head); font-size: 1.8rem; margin-bottom: 15px; }
        .p-card p { color: var(--muted); line-height: 1.6; margin-bottom: 30px; }
        .p-tags { display: flex; gap: 10px; flex-wrap: wrap; }
        .tag {
            padding: 6px 14px; border-radius: 100px; border: 1px solid var(--border);
            font-size: 0.7rem; font-weight: 600; color: var(--muted);
        }

        .skill-container { max-width: 800px; }
        .skill-row { margin-bottom: 40px; }
        .skill-info { display: flex; justify-content: space-between; margin-bottom: 10px; font-weight: 600; }
        .skill-bar { height: 4px; background: var(--border); border-radius: 10px; width: 100%; position: relative; }
        .skill-fill { height: 100%; background: var(--accent); border-radius: 10px; width: 0; transition: width 1.5s ease-out; }

        /* ========================================
           AI ARCHITECT MODULE CSS
           ======================================== */
        .ai-box {
            background: var(--card); border: 1px solid var(--border);
            padding: 50px; border-radius: 32px; backdrop-filter: blur(var(--blur));
            -webkit-backdrop-filter: blur(var(--blur));
            max-width: 800px; margin: 0 auto; text-align: left;
        }
        .ai-box p.ai-desc { color: var(--muted); margin-bottom: 30px; line-height: 1.6; }
        .ai-output {
            margin-top: 30px; padding: 25px; border-radius: 16px;
            background: rgba(0,0,0,0.03); border: 1px solid var(--border);
            color: var(--text); font-size: 0.95rem; line-height: 1.7;
            text-align: left; transition: all 0.3s ease;
        }
        [data-theme="premium"] .ai-output, [data-theme="cyber"] .ai-output {
            background: rgba(255,255,255,0.05);
        }
        .ai-output strong { color: var(--accent); }
        .loader {
            border: 3px solid var(--border); border-top: 3px solid var(--accent);
            border-radius: 50%; width: 20px; height: 20px;
            animation: spin 1s linear infinite; display: inline-block;
            vertical-align: middle; margin-right: 10px;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        .contact-box {
            max-width: 600px; background: var(--card); border: 1px solid var(--border);
            padding: 50px; border-radius: 32px; backdrop-filter: blur(var(--blur));
            -webkit-backdrop-filter: blur(var(--blur));
        }
        .input-group { margin-bottom: 30px; position: relative; width: 100%; }
        .input-group input, .input-group textarea {
            width: 100%; background: transparent; border: none;
            border-bottom: 1px solid var(--border); padding: 15px 0;
            color: var(--text); font-family: inherit; font-size: 1rem; outline: none;
        }
        .input-group label {
            position: absolute; top: 15px; left: 0; color: var(--muted);
            pointer-events: none; transition: 0.3s ease;
        }
        input:focus ~ label, input:valid ~ label, textarea:focus ~ label, textarea:valid ~ label {
            top: -15px; font-size: 0.75rem; color: var(--accent);
        }
        .btn {
            padding: 18px 40px; border-radius: 100px; border: none;
            background: var(--text); color: var(--bg); font-weight: 600;
            transition: 0.4s cubic-bezier(0.4, 0, 0.2, 1); cursor: pointer !important;
            display: inline-block;
        }
        .btn:hover { transform: scale(1.05); }
        .btn:disabled { opacity: 0.7; cursor: not-allowed !important; transform: none; }

        footer { text-align: center; padding: 60px; color: var(--muted); font-size: 0.8rem; z-index: 2; position: relative; }

        @media (max-width: 850px) {
            .project-grid { grid-template-columns: 1fr; }
            .nav-links { display: none; }
            .section-title { font-size: 2.2rem; }
            
            /* Responsive Mobile Vertical Stack for Social Module */
            .social-module {
                flex-direction: column;
                width: 100%;
                max-width: 280px;
            }
            .social-btn {
                width: 100%;
                justify-content: center;
            }
            .ai-box { padding: 30px; }
        }
    </style>
</head>
<body>

    <div class="mesh-container">
        <div class="mesh-gradient" id="mesh"></div>
    </div>

    <nav id="navbar">
        <div class="logo">SUMIT.</div>
        <div class="nav-links">
            <a href="#projects">Work</a>
            <a href="#about">About</a>
            <a href="#ai-architect">AI Lab</a>
            <a href="#contact">Contact</a>
        </div>
        <div class="theme-switches">
            <div class="t-btn" style="background:#fff" onclick="setTheme('apple')"></div>
            <div class="t-btn" style="background:#1c1c1e" onclick="setTheme('premium')"></div>
            <div class="t-btn" style="background:#6366f1" onclick="setTheme('saas')"></div>
            <div class="t-btn" style="background:#ff00ff" onclick="setTheme('cyber')"></div>
        </div>
    </nav>

    <div class="hero">
        <div class="profile-wrap" id="profile">
            <!-- Ensure profile.jpg exists, fallback is used if not -->
            <img src="profile.jpg" alt="Sumit" onerror="this.src='https://ui-avatars.com/api/?name=Sumit&background=random'">
        </div>
        <h1 class="hero-h1" id="hero-title">ENGINEERING<br>INTENT.</h1>
        <div class="rotating-box">
            <div id="rotate-container">
                <span class="rotate-item">Professional Prompt Engineer</span>
                <span class="rotate-item">Digital Portrait & Visual Specialist</span>
                <span class="rotate-item">Full-Stack Web Architect</span>
            </div>
        </div>

        <!-- ========================================
             SOCIAL MEDIA ACTION MODULE
             ======================================== -->
        <div class="social-module">
            <a href="https://www.instagram.com/iiamsvmit?igsh=MWwxMGY5MXg1bzIxOA==" target="_blank" rel="noopener noreferrer" class="social-btn instagram" aria-label="Visit Sumit's Instagram">
                <svg class="icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect>
                    <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path>
                    <line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line>
                </svg>
                <span>Instagram</span>
            </a>
            
            <a href="https://github.com/Sumitbssak" target="_blank" rel="noopener noreferrer" class="social-btn github" aria-label="Visit Sumit's GitHub">
                <svg class="icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>
                </svg>
                <span>GitHub</span>
            </a>

            <a href="https://t.me/SVMIT23" target="_blank" rel="noopener noreferrer" class="social-btn telegram" aria-label="Visit Sumit's Telegram">
                <svg class="icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="22" y1="2" x2="11" y2="13"></line>
                    <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
                </svg>
                <span>Telegram</span>
            </a>
        </div>
    </div>

    <section id="about">
        <span class="section-tag">01 / The Logic</span>
        <h2 class="section-title">Bridging the gap between<br>human intent and machine code.</h2>
        <div class="skill-container">
            <div class="skill-row">
                <div class="skill-info"><span>Prompt Architecture & AI Optics</span><span>98%</span></div>
                <div class="skill-bar"><div class="skill-fill" style="width: 98%"></div></div>
            </div>
            <div class="skill-row">
                <div class="skill-info"><span>Frontend Engineering</span><span>95%</span></div>
                <div class="skill-bar"><div class="skill-fill" style="width: 95%"></div></div>
            </div>
            <div class="skill-row">
                <div class="skill-info"><span>Backend Orchestration</span><span>88%</span></div>
                <div class="skill-bar"><div class="skill-fill" style="width: 88%"></div></div>
            </div>
        </div>
    </section>

    <section id="projects">
        <span class="section-tag">02 / Selected Builds</span>
        <h2 class="section-title">Digital Products.</h2>
        <div class="project-grid">
            <div class="p-card">
                <h3>Custom Browser</h3>
                <p>An ultra-minimal web view layer optimized for developer workflow and memory efficiency.</p>
                <div class="p-tags">
                    <span class="tag">Electron</span><span class="tag">React</span><span class="tag">Chromium</span>
                </div>
            </div>
            <div class="p-card">
                <h3>VibeMusic</h3>
                <p>Spatial audio streaming interface designed with a focus on buttery smooth transitions.</p>
                <div class="p-tags">
                    <span class="tag">Next.js</span><span class="tag">Howler.js</span><span class="tag">GSAP</span>
                </div>
            </div>
            <div class="p-card">
                <h3>Visual Search</h3>
                <p>Image processing engine that uses vector embeddings for semantic visual discovery.</p>
                <div class="p-tags">
                    <span class="tag">Python</span><span class="tag">VectorDB</span><span class="tag">Next.js</span>
                </div>
            </div>
            <div class="p-card">
                <h3>Cricket Live</h3>
                <p>High-concurrency data dashboard for real-time match countdowns and stats.</p>
                <div class="p-tags">
                    <span class="tag">WebSocket</span><span class="tag">Redis</span><span class="tag">React</span>
                </div>
            </div>
        </div>
    </section>

    <!-- ========================================
         AI ARCHITECT MODULE (GEMINI API)
         ======================================== -->
    <section id="ai-architect" style="text-align: center;">
        <span class="section-tag">02.5 / Prompt Engineering</span>
        <h2 class="section-title">AI Project Architect.</h2>
        <div class="ai-box">
            <p class="ai-desc">Describe an app or digital product you want to build. My embedded AI (powered by Gemini) will instantly draft a high-level technical architecture showcasing my tech-stack recommendations.</p>
            <div class="input-group" style="margin-bottom: 20px;">
                <input type="text" id="project-idea" required>
                <label>e.g., A real-time cinematic portfolio renderer...</label>
            </div>
            <button class="btn ai-btn" id="generate-btn" onclick="generateArchitecture()">✨ Draft Architecture</button>
            <div id="ai-output" class="ai-output" style="display: none;"></div>
        </div>
    </section>

    <section id="contact">
        <span class="section-tag">03 / Transmission</span>
        <h2 class="section-title">Let's build the future.</h2>
        <form class="contact-box" id="contact-form">
            <div class="input-group">
                <input type="text" id="name" required>
                <label>Full Name</label>
            </div>
            <div class="input-group">
                <input type="email" id="email" required>
                <label>Email Address</label>
            </div>
            <div class="input-group">
                <textarea id="msg" required rows="4"></textarea>
                <label>Message Payload</label>
            </div>
            <button class="btn" type="submit">Transmit Connection</button>
        </form>
    </section>

    <footer>
        &copy; 2026 Sumit. All rights reserved. Precision-built.
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

    <script>
        gsap.registerPlugin(ScrollTrigger);

        // Theme Engine
        function setTheme(theme) {
            document.documentElement.setAttribute('data-theme', theme);
            localStorage.setItem('sumit-theme', theme);
        }

        const savedTheme = localStorage.getItem('sumit-theme') || 'apple';
        setTheme(savedTheme);

        // Scroll Effects
        window.addEventListener('scroll', () => {
            const nav = document.getElementById('navbar');
            if(window.scrollY > 50) nav.classList.add('scrolled');
            else nav.classList.remove('scrolled');
        });

        // Hero Background Animation
        gsap.to("#mesh", {
            x: "10%",
            y: "10%",
            rotation: 20,
            duration: 20,
            repeat: -1,
            yoyo: true,
            ease: "sine.inOut"
        });

        // Hero Entrance Timeline - Includes Social Buttons
        const heroTl = gsap.timeline();
        heroTl.from(".hero-h1", { y: 100, opacity: 0, duration: 1.5, ease: "power4.out" })
              .from(".profile-wrap", { scale: 0, opacity: 0, duration: 1, ease: "back.out(1.7)" }, "-=1")
              .from(".rotating-box", { opacity: 0, duration: 1 }, "-=0.5")
              .from(".social-btn", { y: 20, opacity: 0, duration: 0.8, stagger: 0.1, ease: "power3.out" }, "-=0.5");

        // Profile Subtle 3D Tilt
        const profile = document.getElementById('profile');
        document.addEventListener('mousemove', (e) => {
            if (!profile) return;
            const rect = profile.getBoundingClientRect();
            const x = (e.clientX - (rect.left + rect.width / 2)) * 0.15;
            const y = (e.clientY - (rect.top + rect.height / 2)) * 0.15;
            gsap.to(profile, { rotateY: x, rotateX: -y, duration: 0.5 });
        });

        // Rotating Text Logic
        const items = document.querySelectorAll('.rotate-item');
        let currentItem = 0;
        function rotateText() {
            gsap.to("#rotate-container", {
                y: -(currentItem * 40),
                duration: 0.8,
                ease: "power3.inOut"
            });
            currentItem = (currentItem + 1) % items.length;
            setTimeout(rotateText, 3000);
        }
        rotateText();

        // Project Cards Subtle Interactive Tilt
        document.querySelectorAll('.p-card').forEach(card => {
            card.addEventListener('mousemove', (e) => {
                const rect = card.getBoundingClientRect();
                const x = (e.clientX - (rect.left + rect.width / 2)) * 0.05;
                const y = (e.clientY - (rect.top + rect.height / 2)) * 0.05;
                gsap.to(card, { rotateY: x, rotateX: -y, duration: 0.5 });
            });
            card.addEventListener('mouseleave', () => {
                gsap.to(card, { rotateY: 0, rotateX: 0, duration: 0.5 });
            });
        });

        // Section Fade Reveals via ScrollTrigger
        document.querySelectorAll('section').forEach(section => {
            gsap.from(section, {
                scrollTrigger: {
                    trigger: section,
                    start: "top 80%",
                },
                y: 50,
                opacity: 0,
                duration: 1.2,
                ease: "power3.out"
            });
        });

        // ==========================================
        // AI Project Architect Logic (Gemini API)
        // ==========================================
        async function generateArchitecture() {
            const inputStr = document.getElementById('project-idea').value;
            if (!inputStr.trim()) return;

            const btn = document.getElementById('generate-btn');
            const outputDiv = document.getElementById('ai-output');
            const originalText = btn.innerHTML;

            // UI Loading State
            btn.innerHTML = "✨ Architecting...";
            btn.disabled = true;
            outputDiv.style.display = 'block';
            outputDiv.innerHTML = '<div class="loader"></div> Compiling tech stack...';

            // API Configuration
            const apiKey = ""; // Implicitly provided by environment
            const url = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`;

            // System Instruction guiding the LLM
            const systemPrompt = `You are an expert AI software architect and digital visual specialist representing Sumit. 
            The user will provide a project idea. Provide a concise, highly technical architecture plan outlining: 
            1) Ideal Frontend/Visual framework. 
            2) Backend/Database setup. 
            3) AI/Prompt Engineering strategy. 
            Keep it professional, highly futuristic, and strictly under 150 words total. Format with bolding (**text**) for emphasis. Do not use Markdown headers.`;

            // Backoff logic array (1s, 2s, 4s, 8s, 16s)
            const delays = [1000, 2000, 4000, 8000, 16000];
            let resultText = "<span style='color: #ef4444;'>Error: Connection anomaly detected. Please try again later.</span>";

            for (let i = 0; i < 5; i++) {
                try {
                    const response = await fetch(url, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            contents: [{ parts: [{ text: inputStr }] }],
                            systemInstruction: { parts: [{ text: systemPrompt }] }
                        })
                    });

                    if (!response.ok) throw new Error("API Connection Failed");

                    const data = await response.json();
                    let rawText = data.candidates?.[0]?.content?.parts?.[0]?.text;
                    
                    if (rawText) {
                        // Parse bold markdown to HTML
                        resultText = rawText.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
                        // Parse newlines to HTML line breaks
                        resultText = resultText.replace(/\n/g, '<br>');
                    }
                    break; // Success, exit retry loop
                } catch (error) {
                    if (i < 4) {
                        await new Promise(res => setTimeout(res, delays[i])); // wait before next retry
                    }
                }
            }

            // Restore UI and show output
            outputDiv.innerHTML = resultText;
            btn.innerHTML = originalText;
            btn.disabled = false;
        }

        // Contact Form Submission Simulation
        document.getElementById('contact-form').addEventListener('submit', (e) => {
            e.preventDefault();
            const btn = e.target.querySelector('button');
            const originalText = btn.innerText;
            btn.innerText = "Transmitting...";
            btn.disabled = true;
            
            setTimeout(() => {
                btn.innerText = "Data Transmitted ✓";
                btn.style.background = "#22c55e";
                e.target.reset();
                setTimeout(() => {
                    btn.innerText = originalText;
                    btn.style.background = "";
                    btn.disabled = false;
                }, 3000);
            }, 1500);
        });
    </script>
</body>
</html>


